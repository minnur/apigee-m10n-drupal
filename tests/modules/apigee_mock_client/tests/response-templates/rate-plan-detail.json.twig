{#
/**
 * @file
 *   Rate plan details include file. This is used by `rate-plan.json.twig`.
 *
 * Usage:
 *   @code {% include 'rate-plan.json.twig' %} @endcode
 *
 * Variables:
 * - detail
 *   - id:
 *   - ratePlanRates:
 *   - aggregateFreemiumCounters:
 *   - aggregateStandardCounters:
 *   - aggregateTransactions:
 *   - currency:
 *   - customPaymentTerm:
 *   - duration:
 *   - durationType:
 *   - freemiumDuration:
 *   - freemiumDurationType:
 *   - freemiumUnit:
 *   - meteringType:
 *   - organization:
 *   - paymentDueDays:
 *   - ratingParameter:
 *   - type:
 */
#}
{
    "aggregateFreemiumCounters":    {{ detail.aggregateFreemiumCounters|default('true') }},
    "aggregateStandardCounters":    {{ detail.aggregateStandardCounters|default('true') }},
    "aggregateTransactions":        {{ detail.aggregateTransactions|default('true') }},
    "currency":                     {% include 'currency.json.twig' %},
    "customPaymentTerm":            {{ detail.customPaymentTerm|default('true') }},
    "duration":                     {{ detail.duration|default('1') }},
    "durationType":                 "{{ detail.durationType|default('MONTH') }}",
    "freemiumDuration":             {{ detail.freemiumDuration|default('0') }},
    "freemiumDurationType":         "{{ detail.freemiumDurationType|default('MONTH') }}",
    "freemiumUnit":                 {{ detail.freemiumUnit|default('5') }},
    "id":                           "{{ detail.id|default('foo') }}",
    "meteringType":                 "{{ detail.meteringType|default('VOLUME') }}",
    "organization":                 {% include 'org.json.twig' %},
    "paymentDueDays":               "{{ detail.paymentDueDays|default('30') }}",
    "ratePlanRates": [
        {% for rate in detail.ratePlanRates %}
            {% include 'rate-plan-rate.json.twig' %}{{ loop.last ? '' : ',' }}
        {% endfor %}
    ],
    "ratingParameter":              "{{ detail.ratingParameter|default('VOLUME') }}",
    "type":                         "{{ detail.type|default('RATECARD') }}"
}
